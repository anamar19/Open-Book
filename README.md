# 1. Block Diagram #
![image](https://github.com/user-attachments/assets/19f56088-ab91-4108-b982-12a14c80f4fc)



# 2. Bill of Materials (BOM) #
| Ref | Component | Link | Datasheet |
|-----|-----------|------|-----------|
| J2 | USB4110-GF-A | [LINK](https://ro.mouser.com/ProductDetail/GCT/USB4110-GF-A?qs=KUoIvG%2F9IlYiZvIXQjyJeA%3D%3D) | [DATASHEET](https://ro.mouser.com/datasheet/2/837/GCT_USB4110_Product_Drawing___20k_cycles-3455479.pdf) |
| D1 | USBLC6-2SC6Y |[LINK](https://ro.mouser.com/ProductDetail/STMicroelectronics/USBLC6-2SC6Y?qs=gNDSiZmRJS%2FOgDexvXkdow%3D%3D) | [DATASHEET](https://ro.mouser.com/datasheet/2/389/usblc6_2sc6y-1852505.pdf) |
| PFMF.050.2 | PFMF.050.2 | [LINK](https://ro.mouser.com/ProductDetail/Schurter/PFMF.010.2?qs=1auRipcfynCnJdD0clLSNw%3D%3D) | [DATASHEET](https://ro.mouser.com/datasheet/2/358/typ_PFMF-1275918.pdf) |
| C | C0402 | [LINK](https://ro.mouser.com/ProductDetail/KEMET/C0402C475K8PACTU?qs=ulEaXIWI0c9ebKRT3r3htg%3D%3D) | [DATASHEET](https://ro.mouser.com/datasheet/2/447/KEM_C1006_X5R_SMD-3316465.pdf) |
| R | CR0402 | [LINK](https://ro.mouser.com/ProductDetail/Bourns/CR0402-FX-78R7GLF?qs=ePR1ZvdkOKLVu%2FTT5yAHeA%3D%3D) |[DATASHEET](https://ro.mouser.com/datasheet/2/54/cr-1858361.pdf) |
| Q1 | DMG2305UX-7 | [LINK](https://ro.mouser.com/ProductDetail/Diodes-Incorporated/DMG2305UX-7?qs=L1DZKBg7t5F%2FNBHrjfxC%252Bg%3D%3D) | [DATASHEET](https://www.diodes.com/assets/Datasheets/DMG2305UX.pdf) |
| D2 | SD0805S020S1R0 | [LINK](https://eu.mouser.com/ProductDetail/KYOCERA-AVX/SD0805S020S1R0?qs=jCA%252BPfw4LHbpkAoSnwrdjw%3D%3D) | [DATASHEET](https://eu.mouser.com/datasheet/2/40/schottky-3165252.pdf) |
| C3 | F910J107MBAAJ6 | [LINK](https://eu.mouser.com/ProductDetail/KYOCERA-AVX/F910J107MBAAJ6?qs=PqoDHHvF649LraCA%2FjeGXg%3D%3D) | [DATASHEET](https://eu.mouser.com/datasheet/2/40/F91_AJ6-3162641.pdf) |
| IC1 | BD5229G-TR | [LINK](https://ro.mouser.com/ProductDetail/ROHM-Semiconductor/BD5229G-TR?qs=4kLU8WoGk0vvnhrrYwdszw%3D%3D&_gl=1*14qx4c6*_ga*NDQxMDcxNDk3LjE3NDI4NDIxODY.*_ga_15W4STQT4T*MTc0MzQ1MzQ2Ny4xMy4xLjE3NDM0NTU3MDcuNDIuMC4w) | [DATASHEET](https://fscdn.rohm.com/en/products/databook/datasheet/ic/power/voltage_detector/bd52xxg-e.pdf) |
| J4 | 112A-TAAR-R03 | [LINK](https://store.comet.srl.ro/Catalogue/Product/43497/) |[DATASHEET](https://www.attend.com.tw/data/download/file/112A-TAAR-R03.rar) |
| U2 | ESP32-C6-WROOM-1-N8 | [LINK](https://componentsearchengine.com/prices/ESP32-C6-WROOM-1-N8?manufacturer=Espressif%20Systems) | [DATASHEET](https://www.espressif.com/sites/default/files/documentation/esp32-c6-wroom-1_wroom-1u_datasheet_en.pdf) |
| U4 | MAX17048G+T10 | [LINK](https://ro.mouser.com/ProductDetail/Analog-Devices-Maxim-Integrated/MAX17048G%2bT10?qs=D7PJwyCwLAoGnnn8jEPRBQ%3D%3D) | [DATASHEET](https://ro.mouser.com/datasheet/2/609/MAX17048_MAX17049-3469099.pdf) |
| BUTTON | KMR221GULCLFS | [LINK](https://ro.mouser.com/ProductDetail/CK/KMR221GULCLFS?qs=u2NJ%252B70r0goBXaNk7IrU0Q%3D%3D) | [DATASHEET](https://www.ckswitches.com/media/1479/kmr2.pdf )|
| IC5 | BD5229G-TR | [LINK](https://ro.mouser.com/ProductDetail/ROHM-Semiconductor/BD5229G-TR?qs=4kLU8WoGk0vvnhrrYwdszw%3D%3D)  | [DATASHEET](https://fscdn.rohm.com/en/products/databook/datasheet/ic/power/voltage_detector/bd52xxg-e.pdf) |
| MCP | MCP73831T-2ACI/OT | [LINK](https://ro.mouser.com/ProductDetail/Microchip-Technology/MCP73831T-2ACI-OT?qs=yUQqVecv4qvbBQBGbHx0Mw%3D%3D)) | [DATASHEET](https://ro.mouser.com/datasheet/2/268/MCP73831_Family_Data_Sheet_DS20001984H-3441711.pdf)|
| Q3 | SI1308EDL-T1-GE3 | [LINK](https://componentsearchengine.com/prices/Si1308EDL-T1-GE3?manufacturer=Vishay) | [DATASHEET](https://componentsearchengine.com/Datasheets/1/SI1308EDL-T1-GE3.pdf) |
| SENSOR2 | BME680 | [LINK](https://ro.mouser.com/ProductDetail/Bosch-Sensortec/BME680?qs=v271MhAjFHjo0yA%2FC4OnDQ%3D%3D)  | [DATASHEET](https://ro.mouser.com/datasheet/2/783/BST_BME680_DS001-1509608.pdf) |
| SJ1 | CJS-1201B | [LINK](https://ro.mouser.com/ProductDetail/Nidec-Components/CJS-1201B?qs=XeJtXLiO41SSSa2Z7HG9Iw%3D%3D)  | [DATASHEET](https://ro.mouser.com/datasheet/2/972/cjs-1827353.pdf) |
| L1 |  LQW18ANR18J00D| [LINK](https://ro.mouser.com/ProductDetail/Murata-Electronics/LQW18ANR18J00D?qs=up2IPS6mPfZTlRcpK55RLw%3D%3D)  | [DATASHEET](https://ro.mouser.com/datasheet/2/281/JELF243A_0024-1380895.pdf) |
| D3 | MBR0530T3G | [LINK](https://ro.mouser.com/ProductDetail/onsemi/MBR0530T3G?qs=3JMERSakebpEmdUS6GetdQ%3D%3D)  | [DATASHEET](https://www.onsemi.com/PowerSolutions/product.do?id=MBR0530T3G) |
| J1 | FH34SRJ-24S-0.5SH_99_ | [LINK](https://ro.mouser.com/ProductDetail/Hirose-Connector/FH34SRJ-24S-0.5SH99?qs=vcbW%252B4%252BSTIpKBl5ap9J8Fw%3D%3D)  | [DATASHEET](https://ro.mouser.com/datasheet/2/185/FH34SRJ_24S_0_5SH_99__CL0580_1255_6_99_2DDrawing_0-1615044.pdf) |
| U3 | DS3231SN# | [LINK](https://ro.mouser.com/ProductDetail/Analog-Devices-Maxim-Integrated/DS3231SN?qs=1eQvB6Dk1vhUlr8%2FOrV0Fw%3D%3D)  | [DATASHEET](https://ro.mouser.com/datasheet/2/609/DS3231-3421123.pdf) |
|C10_SUPERCAR | CPH3225A | [LINK](https://ro.mouser.com/ProductDetail/Seiko-Semiconductors/CPH3225A?qs=3etwrb1wR%252BhUOph6lAO7eg%3D%3D)  | [DATASHEET](https://ro.mouser.com/datasheet/2/360/Seiko_Instruments_MicroBattery_E_20230330_2024Jan_-3561061.pdf) |
| D8 | PGB1010603MR | [LINK](https://ro.mouser.com/ProductDetail/Littelfuse/PGB1010603MR?qs=gu7KAQ731URLg4GSnNNN7Q%3D%3D) | [DATASHEET](https://www.littelfuse.com/assetdocs/pulseguard-esd-suppressors-pgb1-datasheet?assetguid=8a337998-d54d-466b-be4e-dc5bcd1f9321) |
| J3 | 4208| [LINK](https://ro.mouser.com/ProductDetail/Adafruit/4208?qs=PzGy0jfpSMtbScLbr0L5dw%3D%3D) | [DATASHEET](https://www.analog.com/media/en/technical-documentation/data-sheets/ada4570.pdf) |
| U1 | W25Q512JVEIQ | [LINK](https://ro.mouser.com/ProductDetail/Winbond/W25Q512JVEIQ?qs=l7cgNqFNU1jw6svr3at6tA%3D%3D) | [DATASHEET](https://ro.mouser.com/datasheet/2/949/Winbond_W25Q512JV_Datasheet-3240039.pdf) |


# 3. Funcționalități Hardware #

## 3.1. Componente, module și senzori ##

### ESP32-C6-WROOM-1-N8 ###
- microcontroler de bază care gestionează comunicațiile(SPI,I2C), controlează perifericele.
### USB C connector & ESD protection ###
- asigură alimentarea prin USB-C și protecție.
### LDO Voltage Regulator ###
- stabilizează tensiunea de 3.3V
### SD Card ###
- permite stocarea locală a fișierelor de configurare și a datelor.
### E-Paper Drive Circuit & Header ###
- generează semnale pentru controlul ecranului E-Paper și permite selectarea tipului de dispaly.
### Li-Po Battery Charging Controller ###
- încarcă bateria Li-Po și gestionează curentul de încărcare.
### Environmental Sensor  ###
- măsoară presiunea, temperatura, umiditatea și calitatea aerului.
### Voltage Supervisor + Reset & Boot / IO Button ###
- monitorizează tensiunea de alimentare și asigură resetarea sistemului.
### Li-Po Battery ###
- sursă de alimentare de rezervă, care permite funcționarea sistemului fără USB.
### RTC Module DS3231SN ###
- asigură funcționarea de ceas în timp real.
### External NORFlash64MB ###
- memorie secundară pentru stocarea datelor.

## 3.2. Specificații de comunicație ##
- SPI este folosit pentru NOR Flash, cardul SD și dispaly-ul E-Paper
- I2C este utilizat pentru senzorul BME688 și modulul DS3231SN
- UART este folosit pentru debugging
- Wi-Fi & Bluetooth LE sunt date de ESP32-C6 pentru conectivitate wireless.

## 3.3. Calcule de consum de energie ##
- ESP32-C6: consum în mod activ-aprox 80-240mA și în mod sleep-cam 1mA
- NOR Flash: consum la citire/scriere-5-15mA, iar în repaus-mai puțin de 10uA
- BM3688: consum în mod activ de 3.1mA, iar în mod sleep aprox 2.1uA
- LDO: eficiența depinde de diferența de tensiune (aprox 3.3V) și curentul total
- DS3231SN: consum de cca 150uA cu backup la baterie

  Bateria Li-Po poate menține sistemul destul de mult timp, de ordinul zilelor chiar, în funcție de capacitate și de cât de des se folosesc comunicațiile Wi-Fi/Bluetooth.

# 4. Pinii ESP32-C6 #
| Pin | Componentă | Motiv |
|-----|------------|-------|
| MOSI(IO6) | SPI MOSI către NOR Flash,SD Card și E-Paper | Transfer date către periferice SPI |
| MISO(IO7) | SPI MISO din NOR Flash,SD Card și E-Paper | Primire date către periferice SPI |
| SDA(IO14) | I2C SDA către BME688 și DS3231SN | Linia de date pentru I2C|
| SCL(IO15) | I2C SCL către BME688 și DS3231SN | Semnal de clock I2C |
| SCK(IO8) | SPI Clock | Semnal de clock SPI |
| CS1(IO9) |  Chip Select NOR Flash | Control dedicat pentru NOR Flash |
| CS2(IO10) |  Chip Select E-Paper Display | Control dedicat pentru Display |
| CS3(IO11) | Chip Select SD Card |  Control dedicat pentru SD Card |
| IO16,IO17 | UART,TX,RX(debug) | Debug serial și programare |
| IO21 | Control Boot/Reset | Butoane de reset și boot |
| 3V3(IO2) | - | Furnizează tensiunea de 3.3V pentru componente |
| GND | - | Referință pentru circuit |

# 5. Comentarii #
## 5.1. Design log și Randări PCB ##
Randări:
- există randări 3D ale PCB-ULUI care arată poziționarea corectă a componentelor pricipale: ESP32-C6, conectorul USB, senzorii
- carcasa este proiectată ăn Fusion 360
- bateria este proiectată, de asemenea, în Fusion 360
-  display-ul este luat din [link](https://grabcad.com/library/7-5in-e-ink-display-assortment-1) conform datasheet-ului

## 5.2. Așezarea Componentelor în Carcasă ##
- Conectorii Qwiic/ Stemma QT  sunt plasați la marfinea plăcii pentru a facilita atașarea rapidă a altor senzori
- Bateria Li-Po e plasată direct lângă PCB pentru a economisi spațiu
- Microcontrolerul ESP32 e poziționat la marginea PCB-ului pentru a reduce interferențele la antenă, iar din această cauză a fost tăiat și planul de masă li placa PCB în jurul antenei

## 5.3. Decizii luate ##
